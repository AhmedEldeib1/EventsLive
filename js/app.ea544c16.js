(function(e){function t(t){for(var r,o,s=t[0],c=t[1],u=t[2],v=0,f=[];v<s.length;v++)o=s[v],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&f.push(a[o][0]),a[o]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(i.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={app:0},i=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/EventsLive/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("64a9")},1446:function(e,t,n){"use strict";n("41a2")},"1c3a":function(e,t,n){"use strict";n("76d2")},"34c0":function(e,t,n){"use strict";n("7c65")},"41a2":function(e,t,n){},"4e6a":function(e,t,n){"use strict";n("d919")},"56d7":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"state",(function(){return pe}));var a={};n.r(a),n.d(a,"namespaced",(function(){return be})),n.d(a,"state",(function(){return _e})),n.d(a,"mutations",(function(){return ye})),n.d(a,"actions",(function(){return Ee})),n.d(a,"getters",(function(){return Oe}));var i={};n.r(i),n.d(i,"namespaced",(function(){return Pe})),n.d(i,"state",(function(){return Te})),n.d(i,"mutations",(function(){return xe})),n.d(i,"actions",(function(){return Se}));n("a481"),n("ac6a"),n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),s=n("8103"),c=n.n(s),u=n("bba4"),l=n.n(u),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("NavBar"),n("NotificationContainer"),n("router-view",{key:e.$route.fullPath})],1)},f=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nav",attrs:{id:"nav"}},[n("router-link",{staticClass:"brand",attrs:{to:"/"}},[e._v("My Events")]),n("nav",[n("router-link",{attrs:{to:{name:"event-list"}}},[e._v("List")]),e._v(" |\n    "),n("router-link",{attrs:{to:{name:"event-create"}}},[e._v("Create")])],1)],1)},d=[],m={},h=m,g=(n("c8d8"),n("2877")),b=Object(g["a"])(h,p,d,!1,null,"32e55d6e",null),_=b.exports,y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"notification-container"},e._l(e.notifications,(function(e){return n("NotificationBar",{key:e.id,attrs:{notification:e}})})),1)},E=[],O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"notification-bar",class:e.notificationTypeClass},[n("p",[e._v(e._s(e.notification.message))])])},j=[],w=n("2f62"),P={props:{notification:{type:Object,required:!0}},data:function(){return{timeout:null}},mounted:function(){var e=this;this.timeout=setTimeout((function(){return e.remove(e.notification)}),5e3)},beforeDestroy:function(){clearTimeout(this.timeout)},computed:{notificationTypeClass:function(){return"-text-".concat(this.notification.type)}},methods:Object(w["b"])("notification",["remove"])},T=P,C=(n("4e6a"),Object(g["a"])(T,O,j,!1,null,"13bee7dc",null)),x=C.exports,S={components:{NotificationBar:x},computed:Object(w["c"])("notification",["notifications"])},N=S,k=(n("34c0"),Object(g["a"])(N,y,E,!1,null,"69480408",null)),$=k.exports,D={components:{NavBar:_,NotificationContainer:$}},A=D,B=(n("034f"),Object(g["a"])(A,v,f,!1,null,null,null)),L=B.exports,I=n("8c4f"),V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Create an Event")]),n("form",{on:{submit:function(t){return t.preventDefault(),e.createEvent.apply(null,arguments)}}},[n("label",[e._v("Select a category")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.event.category,expression:"event.category"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.event,"category",t.target.multiple?n:n[0])}}},e._l(e.categories,(function(t){return n("option",{key:t},[e._v(e._s(t))])})),0),n("h3",[e._v("Name & describe your event")]),n("div",{staticClass:"field"},[n("label",[e._v("Title")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.event.title,expression:"event.title"}],attrs:{type:"text",placeholder:"Add an event title"},domProps:{value:e.event.title},on:{input:function(t){t.target.composing||e.$set(e.event,"title",t.target.value)}}})]),n("div",{staticClass:"field"},[n("label",[e._v("Description")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.event.description,expression:"event.description"}],attrs:{type:"text",placeholder:"Add a description"},domProps:{value:e.event.description},on:{input:function(t){t.target.composing||e.$set(e.event,"description",t.target.value)}}})]),n("h3",[e._v("Where is your event?")]),n("div",{staticClass:"field"},[n("label",[e._v("Location")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.event.location,expression:"event.location"}],attrs:{type:"text",placeholder:"Add a location"},domProps:{value:e.event.location},on:{input:function(t){t.target.composing||e.$set(e.event,"location",t.target.value)}}})]),n("h3",[e._v("When is your event?")]),n("div",{staticClass:"field"},[n("label",[e._v("Date")]),n("datepicker",{attrs:{placeholder:"Select a date"},model:{value:e.event.date,callback:function(t){e.$set(e.event,"date",t)},expression:"event.date"}})],1),n("div",{staticClass:"field"},[n("label",[e._v("Select a time")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.event.time,expression:"event.time"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.event,"time",t.target.multiple?n:n[0])}}},e._l(e.times,(function(t){return n("option",{key:t},[e._v(e._s(t))])})),0)]),n("input",{staticClass:"button -fill-gradient",attrs:{type:"submit",value:"Submit"}})])])},M=[],U=n("fa33"),q={components:{Datepicker:U["a"]},data:function(){for(var e=[],t=1;t<=24;t++)e.push(t+":00");return{times:e,categories:this.$store.state.categories,event:this.createFreshEventObject()}},methods:{createEvent:function(){var e=this;this.$store.dispatch("event/createEvent",this.event).then((function(){e.$router.push({name:"event-show",params:{id:e.event.id}}),e.event=e.createFreshEventObject()})).catch((function(){}))},createFreshEventObject:function(){var e=this.$store.state.user.user,t=Math.floor(1e7*Math.random());return{id:t,user:e,category:"",organizer:e,title:"",description:"",location:"",date:"",time:"",attendees:[]}}}},z=q,F=(n("1c3a"),Object(g["a"])(z,V,M,!1,null,"44816859",null)),H=F.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Events for "+e._s(e.user.user.name))]),e._l(e.event.events,(function(e){return n("EventCard",{key:e.id,attrs:{event:e}})})),1!=e.page?[n("router-link",{attrs:{to:{name:"event-list",query:{page:e.page-1}},rel:"prev"}},[e._v("\n    Prev Page")]),e.hasNextPage?[e._v(" | ")]:e._e()]:e._e(),e.hasNextPage?n("router-link",{attrs:{to:{name:"event-list",query:{page:e.page+1}},rel:"next"}},[e._v("\n    Next Page")]):e._e()],2)},W=[],R=(n("8e6e"),n("456d"),n("ade3")),Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-link",{staticClass:"event-link",attrs:{to:{name:"event-show",params:{id:e.event.id}}}},[n("div",{staticClass:"event-card -shadow"},[n("span",{staticClass:"eyebrow"},[e._v("@"+e._s(e.event.time)+" on "+e._s(e.event.date))]),n("h4",{staticClass:"title"},[e._v(e._s(e.event.title))]),n("BaseIcon",{attrs:{name:"users"}},[e._v(e._s(e.event.attendees.length)+" attending")])],1)])},G=[],K={props:{event:Object}},Q=K,X=(n("1446"),Object(g["a"])(Q,Y,G,!1,null,"120b49a6",null)),Z=X.exports;function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){Object(R["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ne={components:{EventCard:Z},created:function(){this.perPage=3,this.$store.dispatch("event/fetchEvents",{perPage:this.perPage,page:this.page})},computed:te({page:function(){return parseInt(this.$route.query.page)||1},hasNextPage:function(){return this.event.eventsTotal>this.page*this.perPage}},Object(w["c"])(["event","user"]))},re=ne,ae=Object(g["a"])(re,J,W,!1,null,null,null),ie=ae.exports,oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"event-header"},[n("span",{staticClass:"eyebrow"},[e._v("@"+e._s(e.event.time)+" on "+e._s(e.event.date))]),n("h1",{staticClass:"title"},[e._v(e._s(e.event.title))]),n("h5",[e._v("Organized by "+e._s(e.event.organizer?e.event.organizer.name:""))]),n("h5",[e._v("Category: "+e._s(e.event.category))])]),n("BaseIcon",{attrs:{name:"map"}},[n("h2",[e._v("Location")])]),n("address",[e._v(e._s(e.event.location))]),n("h2",[e._v("Event details")]),n("p",[e._v(e._s(e.event.description))]),n("h2",[e._v("Attendees\n    "),n("span",{staticClass:"badge -fill-gradient"},[e._v(e._s(e.event.attendees?e.event.attendees.length:0))])]),n("ul",{staticClass:"list-group"},e._l(e.event.attendees,(function(t,r){return n("li",{key:r,staticClass:"list-item"},[n("b",[e._v(e._s(t.name))])])})),0)],1)},se=[],ce={props:["id"],created:function(){this.fetchEvent(this.id)},computed:Object(w["c"])({event:function(e){return e.event.event}}),methods:Object(w["b"])("event",["fetchEvent"])},ue=ce,le=(n("8f2b"),Object(g["a"])(ue,oe,se,!1,null,"05d8f076",null)),ve=le.exports;o["a"].use(I["a"]);var fe=new I["a"]({mode:"history",routes:[{path:"/",name:"event-list",component:ie},{path:"/event/create",name:"event-create",component:H},{path:"/event/:id",name:"event-show",component:ve,props:!0}]}),pe={user:{id:"abc123",name:"Ahmed Eldeib"}},de=(n("7514"),n("bc3a")),me=n.n(de),he=me.a.create({baseURL:"https://my-json-server.typicode.com/AhmedEldeib1/TheEvents",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}}),ge={getEvents:function(e,t){return he.get("/events?_limit="+e+"&_page="+t)},getEvent:function(e){return he.get("/events/"+e)},postEvent:function(e){return he.post("/events",e)}},be=!0,_e={events:[],eventsTotal:0,event:{}},ye={ADD_EVENT:function(e,t){e.events.push(t)},SET_EVENTS:function(e,t){e.events=t},SET_EVENTS_TOTAL:function(e,t){e.eventsTotal=t},SET_EVENT:function(e,t){e.event=t}},Ee={createEvent:function(e,t){var n=e.commit,r=e.dispatch;return ge.postEvent(t).then((function(){n("ADD_EVENT",t);var e={type:"success",message:"Your event has been created!"};r("notification/add",e,{root:!0})})).catch((function(e){var t={type:"error",message:"There was a problem creating your event: "+e.message};throw r("notification/add",t,{root:!0}),e}))},fetchEvents:function(e,t){var n=e.commit,r=e.dispatch,a=t.perPage,i=t.page;ge.getEvents(a,i).then((function(e){n("SET_EVENTS_TOTAL",parseInt(e.headers["x-total-count"])),n("SET_EVENTS",e.data)})).catch((function(e){var t={type:"error",message:"There was a problem fetching events: "+e.message};r("notification/add",t,{root:!0})}))},fetchEvent:function(e,t){var n=e.commit,r=e.getters,a=e.dispatch,i=r.getEventById(t);i?n("SET_EVENT",i):ge.getEvent(t).then((function(e){n("SET_EVENT",e.data)})).catch((function(e){var t={type:"error",message:"There was a problem fetching event: "+e.message};a("notification/add",t,{root:!0})}))}},Oe={getEventById:function(e){return function(t){return e.events.find((function(e){return e.id===t}))}}};function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){Object(R["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pe=!0,Te={notifications:[]},Ce=1,xe={PUSH:function(e,t){e.notifications.push(we(we({},t),{},{id:Ce++}))},DELETE:function(e,t){e.notifications=e.notifications.filter((function(e){return e.id!==t.id}))}},Se={add:function(e,t){var n=e.commit;n("PUSH",t)},remove:function(e,t){var n=e.commit;n("DELETE",t)}};o["a"].use(w["a"]);var Ne=new w["a"].Store({modules:{user:r,event:a,notification:i},state:{categories:["sustainability","nature","animal welfare","housing","education","food","community"]}}),ke=n("7461");o["a"].component("BaseIcon",ke["default"]),o["a"].config.productionTip=!1;var $e=n("ef13");$e.keys().forEach((function(e){var t=$e(e),n=c()(l()(e.replace(/^\.\/(.*)\.\w+$/,"$1")));o["a"].component(n,t.default||t)})),new o["a"]({router:fe,store:Ne,render:function(e){return e(L)}}).$mount("#app")},"5ecc":function(e,t,n){},"64a9":function(e,t,n){},7461:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"icon-wrapper"},[n("svg",{staticClass:"icon",attrs:{width:e.width,height:e.height}},[n("use",e._b({},"use",{"xlink:href":"/feather-sprite.svg#"+e.name},!1))]),e._t("default")],2)},a=[],i=(n("c5f6"),{name:"Icon",props:{name:String,width:{type:[Number,String],default:24},height:{type:[Number,String],default:24}}}),o=i,s=(n("7a87"),n("2877")),c=Object(s["a"])(o,r,a,!1,null,"70cb9f87",null);t["default"]=c.exports},"76d2":function(e,t,n){},"7a87":function(e,t,n){"use strict";n("deff")},"7c65":function(e,t,n){},"8f2b":function(e,t,n){"use strict";n("5ecc")},c05c:function(e,t,n){},c8d8:function(e,t,n){"use strict";n("c05c")},d919:function(e,t,n){},deff:function(e,t,n){},ef13:function(e,t,n){var r={"./BaseIcon.vue":"7461"};function a(e){var t=i(e);return n(t)}function i(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id="ef13"}});
//# sourceMappingURL=app.ea544c16.js.map